<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>
<body>

<p id="demo"></p>

<button type="button" id="btn">hello</button>

<script type="text/javascript">
$(document).ready(function () {
	$("#btn").click(function(){
	
		$.ajax({
			url:"http://localhost:3000/",
			type:"get",
			success:function(str){
				//alert('success');
				$("#demo").text(str);
			},
			error:function(){
				alert('error');
			}
			
		});
	});
	
});
</script>
<br><br>
<button type="button" id="human">human</button>

번호: <input type="text" id="number"><br>
이름: <input type="text" id="name"><br>
주소: <input type="text" id="address"><br>

<script type="text/javascript">
$("#human").click(function(){
	$.ajax({
		url:"http://localhost:3000/human",
		type:"get",
		success:function(human){
			//alert('success');
			$("#number").val(human.number);
			$("#name").val(human.name);
			$("#address").val(human.address);
		},
		error:function(){
			alert('error');
		}
	});
});
</script>

<br><br>
<button type="button" id="conn_param">conn</button>

번호: <input type="text" id="conn_number"><br>
이름: <input type="text" id="conn_name"><br>

<script type="text/javascript">
$("#conn_param").click(function(){
	$.ajax({
		url:"http://localhost:3000/conn_param",
		type:"get",
		data: {
			num: 246,
			str: "반갑습니다"
		},
		success:function(conn){
			//alert('success');
			$("#success").text(conn);
		},
		error:function(){
			alert('error');
		}
	});
});
</script>
<br><br>

<!-- JavaScript 비동기-->
<button type="button" onclick="getHuman()">human</button>

번호: <input type="text" id="nu"><br>
이름: <input type="text" id="na"><br>
주소: <input type="text" id="add"><br>

<script type="text/javascript">
function getHuman(){
	let xhttp = new XMLHttpRequest();
	
	xhttp.onreadystatechange = function(){
		if(this.readyState == 4 && this.status == 200){
			//alert('success');
			alert(this.response);
			let human = JSON.parse(this.response);
			document.getElementById("nu").value = human.number;
			document.getElementById("na").value = human.name;
			document.getElementById("add").value = human.address;
		}
	}
	xhttp.open("GET", "http://localhost:3000/human", true); // GET or POST, url, 비동기 처리 여부
	xhttp.send();
}

</script>
</body>
</html>


















